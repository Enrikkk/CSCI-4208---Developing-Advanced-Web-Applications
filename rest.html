<html>
    <!-- This page will allow the knight to rest, recovering all of this healt point. -->

    <head>
        <title> Triple Adventure </title>
        <link rel="icon" href="assets/weapons/cimitar.png" />
        <link rel="stylesheet" href="styles/styles.css" >
    </head>

    <body>
        <div style="background-image: url('assets/rest.gif');
                    background-repeat: no-repeat;
                    background-position: center;
                    background-size: cover;
                    width: 100%;
                    height: 100%;" >

            <!-- We will use this div container to make the animation for resting. -->
            <div    id = "night"
                    style="background-image: url('assets/night.avif');
                    background-repeat: no-repeat;
                    background-position: center;
                    background-size: cover;
                    width: 100%;
                    height: 100%;
                    z-index: 10000000000;
                    opacity: 0;
                    transition: opacity 3s ease-in-out" >
            </div>
            
            <p> <a id="rest"> 
                <button onclick="rest();"
                        class="smallButton"
                        style="position: absolute;
                               right: 50%;
                               bottom: 50%" > Rest through the Night </button> </a> </p>

            <p> <a id="exit" href = "garden.html"> 
                <button class="exitButton"
                        style="position: absolute;
                               left: 50%;
                               bottom: 10%;" > Exit </button> </a> </p>

            <p class="inventory-title" > Inventory </p>
            <div id="inventory" class="inventory">
                <script src="inventory.js" defer></script>
            </div>
            <div id="flags" class="flagBox">
                <script src="inventory.js" defer></script>
            </div>
        </div>

        <script>
            exit.href += location.search;

            let armor = amountItem("gloryArmor");
            let maxHealth;
            if(armor !== 0) {
                maxHealth = 10;
            } else {
                maxHealth = 7;
            }

            async function rest() {
                let transition = document.getElementById("night");
                await sleep(1500);
                transition.style.opacity="1";
                await sleep(4000);
                transition.style.opacity="0"
                await sleep(300)
                if(confirm("After resting the whole night you feel completely rejuvenated!")) {
                    addItem("hp", (maxHealth-amountItem("hp")));
                }
            }
        </script>

    </body>


</html>